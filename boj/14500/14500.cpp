#include <cstdio>
using namespace std;
const int shape[19][4][4]={
    // 테트로미노 1
    {
        {1,1,1,1},
        {0,0,0,0},
        {0,0,0,0},
        {0,0,0,0}
    },
    {
        {1,0,0,0},
        {1,0,0,0},
        {1,0,0,0},
        {1,0,0,0}
    },
    // 테트로미노 2
    {
        {1,1,0,0},
        {1,1,0,0},
        {0,0,0,0},
        {0,0,0,0}
    },
    // 테트로미노 3
    {
        {1,0,0,0},
        {1,0,0,0},
        {1,1,0,0},
        {0,0,0,0}
    },
    {
        {1,1,1,0},
        {1,0,0,0},
        {0,0,0,0},
        {0,0,0,0}
    },
    {
        {1,1,0,0},
        {0,1,0,0},
        {0,1,0,0},
        {0,0,0,0}
    },
    {
        {0,0,1,0},
        {1,1,1,0},
        {0,0,0,0},
        {0,0,0,0}
    },
    {
        {0,1,0,0},
        {0,1,0,0},
        {1,1,0,0},
        {0,0,0,0}
    },
    {
        {1,0,0,0},
        {1,1,1,0},
        {0,0,0,0},
        {0,0,0,0}
    },
    {
        {1,1,0,0},
        {1,0,0,0},
        {1,0,0,0},
        {0,0,0,0}
    },
    {
        {1,1,1,0},
        {0,0,1,0},
        {0,0,0,0},
        {0,0,0,0}
    },
    // 테트로미노 4
    {
        {1,0,0,0},
        {1,1,0,0},
        {0,1,0,0},
        {0,0,0,0}
    },
    {
        {0,1,1,0},
        {1,1,0,0},
        {0,0,0,0},
        {0,0,0,0}
    },
    {
        {0,1,0,0},
        {1,1,0,0},
        {1,0,0,0},
        {0,0,0,0}
    },
    {
        {1,1,0,0},
        {0,1,1,0},
        {0,0,0,0},
        {0,0,0,0}
    },
    // 테트로미노 5
    {
        {1,1,1,0},
        {0,1,0,0},
        {0,0,0,0},
        {0,0,0,0}
    },
    {
        {0,1,0,0},
        {1,1,0,0},
        {0,1,0,0},
        {0,0,0,0}
    },
    {
        {0,1,0,0},
        {1,1,1,0},
        {0,0,0,0},
        {0,0,0,0}
    },
    {
        {1,0,0,0},
        {1,1,0,0},
        {1,0,0,0},
        {0,0,0,0}
    }
};

int N,M;
int A[500][500];
int main() {

    /*
    for(int s=0; s<19; s++){
        for(int i=0; i<4; i++){
            for(int j=0; j<4; j++)
                printf("%d",shape[s][i][j]);
            printf("\n");
        }
        printf("\n");
    }
    */

    scanf("%d %d",&N,&M);
    for(int i=0; i<N; i++)
        for(int j=0; j<M; j++) scanf("%d",&A[i][j]);
    
    int ans=0;
    for(int i=0; i<N; i++){
        for(int j=0; j<M; j++){
            for(int k=0; k<19; k++){
                bool isValid=true;
                int curAns=0;
                for(int l=0; l<4; l++){
                    for(int m=0; m<4; m++){
                        if(shape[k][l][m]){
                            int cy=i+l, cx=j+m;
                            if(cy>=N || cx>=M){ isValid=false; continue; }
                            curAns+=A[cy][cx];
                        }
                    }
                }
                if(isValid && ans<curAns) ans=curAns;
            }
        }
    }
    printf("%d\n",ans);    
    return 0;
}